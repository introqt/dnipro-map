# Railway Deployment Guide

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é Laravel –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Railway.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –ù–∞–∂–º–∏—Ç–µ **New Project** ‚Üí **Deploy from GitHub repo**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `dnipro-map`
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `Dockerfile` –∏ –Ω–∞—á–Ω–µ—Ç —Å–±–æ—Ä–∫—É

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Environment Variables

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

#### üî¥ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
# Application
APP_NAME="Dnipro Map"
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-app.railway.app

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite –Ω–∞ persistent volume)
DB_CONNECTION=sqlite
DB_DATABASE=/data/database.sqlite

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Railway
LOG_CHANNEL=stderr
LOG_LEVEL=info

# –û—á–µ—Ä–µ–¥—å (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
QUEUE_CONNECTION=sync

# Telegram Bot
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_BOT_USERNAME=your_bot_username
WEB_APP_URL=https://your-app.railway.app/app

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ADMIN_TELEGRAM_ID=123456789,987654321

# –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
ADMIN_PASSWORD=your_secure_password
```

#### üü° –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
# Webhook –¥–ª—è –∫–∞–Ω–∞–ª–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
CHANNEL_WEBHOOK_SECRET=random_secret_string_here

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram webhook
AUTO_SET_WEBHOOK=true

# Session & Cache
SESSION_DRIVER=database
CACHE_STORE=database
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Volume –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç volume –¥–ª—è `/data` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `railway.toml`).

–≠—Ç–æ—Ç volume —Ö—Ä–∞–Ω–∏—Ç:
- **SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `/data/database.sqlite`
- **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ**: `/data/storage/photos/`

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ë–µ–∑ volume –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–µ–ø–ª–æ–µ!

### 4. –ü–æ–ª—É—á–∏—Ç–µ URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Railway –ø—Ä–∏—Å–≤–æ–∏—Ç URL –≤–∏–¥–∞: `https://your-app.up.railway.app`

–û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
APP_URL=https://your-app.up.railway.app
WEB_APP_URL=https://your-app.up.railway.app/app
```

### 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram Webhook

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `AUTO_SET_WEBHOOK=true`):
Webhook –Ω–∞—Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ.

#### –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Railway Shell:
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Railway Dashboard** ‚Üí –≤–∞—à —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Deploy** ‚Üí **Shell**
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
php artisan telegram:set-webhook
```

#### –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª:
```bash
railway run php artisan telegram:set-webhook
```

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ–ø–ª–æ–π

- **Health check**: `https://your-app.railway.app/up` ‚Üí –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `200 OK`
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: `https://your-app.railway.app/admin`
- **Web App**: `https://your-app.railway.app/app`
- **API**: `https://your-app.railway.app/api/points`

---

## üìã –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Telegram Bot Token

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–º—è –∏ username)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤–∏–¥–∞ `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`
5. –î–æ–±–∞–≤—å—Ç–µ –≤ Railway: `TELEGRAM_BOT_TOKEN=<–≤–∞—à_—Ç–æ–∫–µ–Ω>`

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Telegram User ID

**–°–ø–æ—Å–æ–± 1 - —á–µ—Ä–µ–∑ –±–æ—Ç–∞:**
1. –ù–∞–π–¥–∏—Ç–µ [@userinfobot](https://t.me/userinfobot) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, `123456789`)

**–°–ø–æ—Å–æ–± 2 - —á–µ—Ä–µ–∑ –≤–∞—à –±–æ—Ç:**
1. –í—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ –¥–µ–±–∞–≥: `APP_DEBUG=true`
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∞—à–µ–º—É –±–æ—Ç—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway - –Ω–∞–π–¥–µ—Ç–µ user ID –≤ –∑–∞–ø—Ä–æ—Å–µ
4. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–µ—Ä–Ω—É—Ç—å `APP_DEBUG=false`!

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App –≤ Telegram

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–Ω–æ–ø–∫—É Web App –≤ –≤–∞—à–µ–º –±–æ—Ç–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/botfather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. **Bot Settings** ‚Üí **Menu Button** ‚Üí **Configure menu button**
4. –í–≤–µ–¥–∏—Ç–µ URL: `https://your-app.railway.app/app`
5. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: `üó∫Ô∏è –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏:

- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram
- `points` - –æ–ø–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- `subscriptions` - –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `votes` - –≥–æ–ª–æ—Å–∞ –∑–∞/–ø—Ä–æ—Ç–∏–≤ —Ç–æ—á–µ–∫
- `comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç–æ—á–∫–∞–º
- `channel_messages` - —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞
- `jobs` - —Ç–∞–±–ª–∏—Ü–∞ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
- `cache` - –∫—ç—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ú–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ.

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ

–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ persistent volume –≤ `/data/storage/photos/`.

**API endpoint**: `POST /api/upload`
- –¢—Ä–µ–±—É–µ—Ç Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- Accepts: `multipart/form-data` —Å –ø–æ–ª–µ–º `photo`
- Returns: `{"url": "https://your-app.railway.app/storage/photos/filename.jpg"}`

**–í–∞–∂–Ω–æ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ volume –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –∏–Ω–∞—á–µ —Ñ–æ—Ç–æ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–µ–ø–ª–æ–µ!

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—á–µ—Ä–µ–¥–µ–π

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sync` driver - –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ worker –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç –Ω–∞ Railway

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
- –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (>100) —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–∫–∏ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å

**–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É**:
–ï—Å–ª–∏ —É –≤–∞—Å –º–Ω–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π worker:

1. –ò–∑–º–µ–Ω–∏—Ç–µ –≤ Railway Variables:
   ```env
   QUEUE_CONNECTION=database
   ```

2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π Railway Service "Queue Worker":
   - Same GitHub repo
   - –í **Start Command** —É–∫–∞–∂–∏—Ç–µ: `php artisan queue:work --tries=3`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ –∂–µ Environment Variables
   - –ú–æ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ç–æ—Ç –∂–µ Volume `/data`

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
```bash
railway logs
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ Dashboard**:
Railway Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤–∏—Å ‚Üí **Deployments** ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí **View Logs**

–í—Å–µ –ª–æ–≥–∏ Laravel –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ `stderr` –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Railway.

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### ‚ùå "Webhook not set" –∏–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook
railway run php artisan tinker
>>> app(\App\Services\TelegramService::class)->getWebhookInfo()

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook –≤—Ä—É—á–Ω—É—é
railway run php artisan telegram:set-webhook
```

#### ‚ùå "Database file not found"

**–†–µ—à–µ–Ω–∏–µ**:
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
1. Volume –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Railway Dashboard
2. `DB_DATABASE=/data/database.sqlite` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –†–µ–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ volume

#### ‚ùå "Photos disappear after redeploy"

**–†–µ—à–µ–Ω–∏–µ**:
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ volume –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `/data` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
railway logs | grep "Linking photos"
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ: `Linking photos directory to persistent volume...`

#### ‚ùå "500 Error" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
railway logs

# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
railway run php artisan config:clear
railway run php artisan cache:clear
railway run php artisan view:clear
```

#### ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ—á–µ–∫

**–†–µ—à–µ–Ω–∏–µ**: 
–ï—Å–ª–∏ —É –≤–∞—Å >100 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ—á–µ—Ä–µ–¥—å (—Å–º. —Ä–∞–∑–¥–µ–ª "–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É").

### Railway CLI –∫–æ–º–∞–Ω–¥—ã

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Railway CLI**:
```bash
npm i -g @railway/cli
railway login
railway link
```

**–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
railway logs

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
railway run php artisan migrate

# –û—Ç–∫—Ä—ã—Ç—å shell
railway shell

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
railway variables

# –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
railway variables set KEY=value
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:

1. **–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∫–∏**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è `ADMIN_PASSWORD`
2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∞–¥–º–∏–Ω–æ–≤**: –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ `ADMIN_TELEGRAM_ID`
3. **–ó–∞—â–∏—Ç–∏—Ç–µ webhook –∫–∞–Ω–∞–ª–∞**: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `CHANNEL_WEBHOOK_SECRET`
4. **–û—Ç–∫–ª—é—á–∏—Ç–µ –¥–µ–±–∞–≥**: `APP_DEBUG=false` –≤ production
5. **HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω**: Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç SSL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏:

–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ Git:
- `TELEGRAM_BOT_TOKEN`
- `ADMIN_PASSWORD`
- `CHANNEL_WEBHOOK_SECRET`
- `APP_KEY` (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üìä –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL

–ï—Å–ª–∏ SQLite —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º:

1. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL –≤ Railway:
   - **New** ‚Üí **Database** ‚Üí **Add PostgreSQL**

2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `DATABASE_URL`

3. –û–±–Ω–æ–≤–∏—Ç–µ Dockerfile - –¥–æ–±–∞–≤—å—Ç–µ –≤ —Å–µ–∫—Ü–∏—é —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PHP extensions:
   ```dockerfile
   && docker-php-ext-install pdo_pgsql
   ```

4. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   ```env
   DB_CONNECTION=pgsql
   DB_HOST=${{Postgres.PGHOST}}
   DB_PORT=${{Postgres.PGPORT}}
   DB_DATABASE=${{Postgres.PGDATABASE}}
   DB_USERNAME=${{Postgres.PGUSER}}
   DB_PASSWORD=${{Postgres.PGPASSWORD}}
   ```

5. –†–µ–¥–µ–ø–ª–æ–π—Ç–µ

### Horizontal Scaling

Railway –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é —Å–µ—Ä–≤–∏—Å–æ–≤:
- Dashboard ‚Üí Service ‚Üí **Settings** ‚Üí **Replicas**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ (—Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ–ø–ª–∏–∫–∞–º–∏ –Ω—É–∂–Ω–∞ shared –ë–î (PostgreSQL) –≤–º–µ—Å—Ç–æ SQLite.

---

## üìù Checklist –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –ü–æ–ª—É—á–µ–Ω Telegram Bot Token
- [ ] –ü–æ–ª—É—á–µ–Ω—ã Telegram User ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- [ ] –°–æ–∑–¥–∞–Ω –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ Environment Variables
- [ ] Volume `/data` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ
- [ ] Health check `/up` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK
- [ ] Telegram webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`php artisan telegram:set-webhook`)
- [ ] Web App –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±–æ—Ç (—á–µ—Ä–µ–∑ @BotFather)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Ç–æ—á–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- [ ] `APP_DEBUG=false` –≤ production
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω —Å–ª–æ–∂–Ω—ã–π `ADMIN_PASSWORD`

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
- [Railway Docs](https://docs.railway.app/)
- [Laravel Deployment Docs](https://laravel.com/docs/deployment)
- [Telegram Bot API](https://core.telegram.org/bots/api)

**–õ–æ–≥–∏ Railway**: 
```bash
railway logs --follow
```

**Laravel Tinker –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**:
```bash
railway run php artisan tinker
```

---

–ì–æ—Ç–æ–≤–æ! üéâ –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Railway.
